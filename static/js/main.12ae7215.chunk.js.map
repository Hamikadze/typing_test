{"version":3,"sources":["stores/typing-store.js","stores/text-store.js","utils/isShiftKey.js","stores/keyboard-store.js","contexts/index.js","hooks/use-stores.js","components/Keyboard/Keycap/Keycap.js","data/keyboard-lauout.js","components/Keyboard/Keyboard.js","components/TextArea/TextArea.js","components/StatsPanel/StatsPanel.js","components/Result/Result.js","App.js","index.js"],"names":["TypingStore","this","reset","makeAutoObservable","timeTypingStart","typoCount","correctCount","complete","result","value","Date","now","speed","accuracy","Math","round","isNaN","TextStore","text","cursorPos","fetch","expected","length","ch","shift","letter","curLetter","indexOf","method","then","res","json","setText","catch","err","console","log","replace","split","slice","KeyboardStore","keysPressed","nextKey","some","v","push","filter","storesContext","React","createContext","typingStore","textStore","keyboardStore","useStores","useContext","Keycap","observer","props","keycapStyle","flexGrow","data","grow","selected","code","shiftCh","pressed","style","className","finger","shiftPressed","layout_eng","Keyboard","handleKeyDown","event","addKeyPressed","keyCode","handleKeyUp","removeKeyPressed","useEffect","document","addEventListener","removeEventListener","map","row","index","i","TextArea","useState","typo","setTypo","textAreaBox","useRef","initTimeTypingStart","defaultPrevented","altKey","ctrlKey","shiftKey","key","incrementCorrect","incrementCursorPos","incrementTypo","setComplete","preventDefault","current","element","focus","ref","tabIndex","printed","StatsPanel","setSpeed","handle","setInterval","clearInterval","Result","onClick","App","isAndroid","test","navigator","userAgent","isIOS","window","MSStream","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.12ae7215.chunk.js","sourcesContent":["import {makeAutoObservable} from 'mobx';\r\n\r\nexport default class TypingStore {\r\n    timeTypingStart;\r\n    typoCount;\r\n    correctCount;\r\n    complete;\r\n    result;\r\n\r\n    constructor() {\r\n        this.reset();\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    reset(){\r\n        this.timeTypingStart = 0;\r\n        this.typoCount = 0;\r\n        this.correctCount = 0;\r\n        this.complete = false;\r\n        this.result = null;\r\n    }\r\n\r\n    setTimeTypingStart(value) {\r\n        this.timeTypingStart = value;\r\n    }\r\n\r\n    initTimeTypingStart() {\r\n        if (this.timeTypingStart === 0)\r\n            this.timeTypingStart = Date.now();\r\n    }\r\n\r\n    setTypoCount(value) {\r\n        if (this.complete)\r\n            return;\r\n        this.typoCount = value;\r\n    }\r\n\r\n    setCorrectCount(value) {\r\n        if (this.complete)\r\n            return;\r\n        this.correctCount = value;\r\n    }\r\n\r\n    incrementTypo() {\r\n        if (this.complete)\r\n            return;\r\n        this.typoCount++;\r\n    }\r\n\r\n    incrementCorrect() {\r\n        if (this.complete)\r\n            return;\r\n        this.correctCount++;\r\n    }\r\n\r\n    setComplete(value) {\r\n        this.complete = value;\r\n        if (value) {\r\n            this.result = {\r\n                speed: this.speed,\r\n                accuracy: this.accuracy\r\n            };\r\n        }\r\n    }\r\n\r\n    get speed() {\r\n        if (this.result !== null) {\r\n            return this.result.speed;\r\n        }\r\n        return Math.round((this.correctCount / ((Date.now() - this.timeTypingStart) / 1000.0)) * 60, 2);\r\n    }\r\n\r\n    get accuracy() {\r\n        if (this.result !== null) {\r\n            return this.result.accuracy;\r\n        }\r\n        const accuracy = Math.round(100 * this.correctCount / (this.correctCount + this.typoCount), 2);\r\n        return isNaN(accuracy) ? 100 : accuracy;\r\n    }\r\n}","import {makeAutoObservable} from 'mobx';\r\nimport isShiftKey from \"../utils/isShiftKey\";\r\n\r\nexport default class TextStore {\r\n    text;\r\n    cursorPos;\r\n\r\n    constructor() {\r\n        this.reset();\r\n\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    reset() {\r\n        this.text = [];\r\n        this.cursorPos = 0;\r\n        this.fetch();\r\n    }\r\n\r\n    get curLetter() {\r\n        if (!this.expected.length)\r\n            return {ch: null, shift: false,}\r\n        const curLetter = this.expected[0];\r\n        return {ch: curLetter, shift: isShiftKey(curLetter)}\r\n\r\n    }\r\n\r\n    fetch() {\r\n        fetch('https://baconipsum.com/api/?type=all-meat&paras=1&format=json', {method: 'GET'})\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                this.setText(res[0]);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                this.setText('Crazy Fredrick bought many very exquisite opal jewels.')\r\n            });\r\n    }\r\n\r\n    setText(value) {\r\n        this.text = value.replace(/\\s\\s+/g, ' ').split('');\r\n    }\r\n\r\n    get printed() {\r\n        return this.text.slice(0, this.cursorPos);\r\n    }\r\n\r\n    get expected() {\r\n        return this.text.slice(this.cursorPos);\r\n    }\r\n\r\n    get complete() {\r\n        return !this.expected.length;\r\n    }\r\n\r\n    setCursorPos(value) {\r\n        this.cursorPos = value;\r\n    }\r\n\r\n    incrementCursorPos() {\r\n        this.cursorPos++;\r\n    }\r\n}","export default function isShiftKey(letter){\r\n    const enterLetters_eng = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ~!@#$%^&*()_+{}|:\\\"<>?\";\r\n    return enterLetters_eng.indexOf(letter) >= 0\r\n};","import {makeAutoObservable} from 'mobx';\r\n\r\nexport default class KeyboardStore {\r\n    keysPressed;\r\n    nextKey;\r\n\r\n    constructor() {\r\n        this.keysPressed = [];\r\n        this.nextKey = null;\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    get shiftPressed() {\r\n        return this.keysPressed.some(v => v === 16);\r\n    }\r\n\r\n    addKeyPressed(value) {\r\n        this.keysPressed.push(value);\r\n    }\r\n\r\n    removeKeyPressed(value) {\r\n        this.keysPressed = this.keysPressed.filter(v => v !== value);\r\n    }\r\n\r\n    setNextKey(value) {\r\n        if (this.nextKey !== value)\r\n            this.nextKey = value;\r\n    }\r\n}","import React from 'react';\r\nimport TypingStore from '../stores/typing-store';\r\nimport TextStore from '../stores/text-store';\r\nimport KeyboardStore from \"../stores/keyboard-store\";\r\n\r\nexport const storesContext = React.createContext({\r\n    typingStore: new TypingStore(),\r\n    textStore: new TextStore(),\r\n    keyboardStore: new KeyboardStore(),\r\n})","import React from 'react'\r\nimport { storesContext } from '../contexts'\r\n\r\nexport const useStores = () => React.useContext(storesContext)","import React from \"react\";\r\nimport {observer} from \"mobx-react-lite\";\r\nimport {useStores} from \"../../../hooks/use-stores\";\r\nimport './Keycap.css';\r\n\r\nconst Keycap = observer((props) => {\r\n    const {keyboardStore, textStore} = useStores();\r\n\r\n    const keycapStyle = {\r\n        flexGrow: props.data.grow,\r\n    }\r\n\r\n    const selected = ((props.data.code === 32 && textStore.curLetter.ch === ' ') ||\r\n        (props.data.code === 16 && textStore.curLetter.shift) ||\r\n        props.data.ch === textStore.curLetter.ch ||\r\n        props.data.shiftCh === textStore.curLetter.ch) ? 'f_select' : '';\r\n    const pressed = keyboardStore.keysPressed.some(v => v === props.data.code) ? 'keycap-pressed' : '';\r\n\r\n    return (\r\n        <div style={keycapStyle}\r\n             className={`Keycap ${props.data.finger} ${pressed} ${selected}`}>\r\n            <span>{keyboardStore.shiftPressed ? props.data.shiftCh : props.data.ch}</span>\r\n        </div>);\r\n})\r\n\r\nexport default Keycap;","export const layout_eng = [[\r\n    {ch: '`', shiftCh: '~', code: 192, finger: 'f1', grow: 1},\r\n    {ch: '1', shiftCh: '!', code: 49, finger: 'f2', grow: 1},\r\n    {ch: '2', shiftCh: '@', code: 50, finger: 'f2', grow: 1},\r\n    {ch: '3', shiftCh: '#', code: 51, finger: 'f3', grow: 1},\r\n    {ch: '4', shiftCh: '$', code: 52, finger: 'f4', grow: 1},\r\n    {ch: '5', shiftCh: '%', code: 53, finger: 'f5_1', grow: 1},\r\n    {ch: '6', shiftCh: '^', code: 54, finger: 'f5_1', grow: 1},\r\n    {ch: '7', shiftCh: '&', code: 55, finger: 'f5_2', grow: 1},\r\n    {ch: '8', shiftCh: '*', code: 56, finger: 'f4', grow: 1},\r\n    {ch: '9', shiftCh: '(', code: 57, finger: 'f3', grow: 1},\r\n    {ch: '0', shiftCh: ')', code: 48, finger: 'f2', grow: 1},\r\n    {ch: '-', shiftCh: '_', code: 189, finger: 'f2', grow: 1},\r\n    {ch: '=', shiftCh: '+', code: 187, finger: 'f2', grow: 1},\r\n    {ch: '←', shiftCh: '←', code: 8, finger: 'f1', grow: 2}\r\n], [\r\n    {ch: 'Tab', shiftCh: 'Tab', code: 9, finger: 'f1', grow: 2},\r\n    {ch: 'q', shiftCh: 'Q', code: 81, finger: 'f2', grow: 1},\r\n    {ch: 'w', shiftCh: 'W', code: 87, finger: 'f3', grow: 1},\r\n    {ch: 'e', shiftCh: 'E', code: 69, finger: 'f4', grow: 1},\r\n    {ch: 'r', shiftCh: 'R', code: 82, finger: 'f5_1', grow: 1},\r\n    {ch: 't', shiftCh: 'T', code: 84, finger: 'f5_1', grow: 1},\r\n    {ch: 'y', shiftCh: 'Y', code: 89, finger: 'f5_2', grow: 1},\r\n    {ch: 'u', shiftCh: 'U', code: 85, finger: 'f5_2', grow: 1},\r\n    {ch: 'i', shiftCh: 'I', code: 73, finger: 'f4', grow: 1},\r\n    {ch: 'o', shiftCh: 'O', code: 79, finger: 'f3', grow: 1},\r\n    {ch: 'p', shiftCh: 'P', code: 80, finger: 'f2', grow: 1},\r\n    {ch: '[', shiftCh: '{', code: 219, finger: 'f2', grow: 1},\r\n    {ch: ']', shiftCh: '}', code: 221, finger: 'f2', grow: 1},\r\n    {ch: '\\\\', shiftCh: '|', code: 220, finger: 'f1', grow: 1}\r\n], [\r\n    {ch: 'Caps', shiftCh: 'Caps', code: 20, finger: 'f1', grow: 2},\r\n    {ch: 'a', shiftCh: 'A', code: 65, finger: 'f2', grow: 1},\r\n    {ch: 's', shiftCh: 'S', code: 83, finger: 'f3', grow: 1},\r\n    {ch: 'd', shiftCh: 'D', code: 68, finger: 'f4', grow: 1},\r\n    {ch: 'f', shiftCh: 'F', code: 70, finger: 'f5_1', grow: 1},\r\n    {ch: 'g', shiftCh: 'G', code: 71, finger: 'f5_1', grow: 1},\r\n    {ch: 'h', shiftCh: 'H', code: 72, finger: 'f5_2', grow: 1},\r\n    {ch: 'j', shiftCh: 'J', code: 74, finger: 'f5_2', grow: 1},\r\n    {ch: 'k', shiftCh: 'K', code: 75, finger: 'f4', grow: 1},\r\n    {ch: 'l', shiftCh: 'L', code: 76, finger: 'f3', grow: 1},\r\n    {ch: ';', shiftCh: ':', code: 186, finger: 'f2', grow: 1},\r\n    {ch: '\\'', shiftCh: '\"', code: 222, finger: 'f2', grow: 1},\r\n    {ch: 'Enter', shiftCh: 'Enter', code: 13, finger: 'f1', grow: 2}\r\n], [\r\n    {ch: 'Shift', shiftCh: 'Shift', code: 16, finger: 'f1', grow: 2},\r\n    {ch: 'z', shiftCh: 'Z', code: 90, finger: 'f2', grow: 1},\r\n    {ch: 'x', shiftCh: 'X', code: 88, finger: 'f3', grow: 1},\r\n    {ch: 'c', shiftCh: 'C', code: 67, finger: 'f4', grow: 1},\r\n    {ch: 'v', shiftCh: 'V', code: 86, finger: 'f5_1', grow: 1},\r\n    {ch: 'b', shiftCh: 'B', code: 66, finger: 'f5_1', grow: 1},\r\n    {ch: 'n', shiftCh: 'N', code: 78, finger: 'f5_2', grow: 1},\r\n    {ch: 'm', shiftCh: 'M', code: 77, finger: 'f5_2', grow: 1},\r\n    {ch: ',', shiftCh: '<', code: 188, finger: 'f4', grow: 1},\r\n    {ch: '.', shiftCh: '>', code: 190, finger: 'f3', grow: 1},\r\n    {ch: '/', shiftCh: '?', code: 191, finger: 'f2', grow: 1},\r\n    {ch: 'Shift', shiftCh: 'Shift', code: 16, finger: 'f1', grow: 2}\r\n],\r\n    [{ch: 'Space', shiftCh: 'Space', code: 32, finger: 'f1', grow: 2}]];","import React, {useEffect} from \"react\";\r\nimport Keycap from './Keycap/Keycap';\r\nimport {layout_eng} from \"../../data/keyboard-lauout\";\r\nimport {observer} from \"mobx-react-lite\";\r\nimport {useStores} from \"../../hooks/use-stores\";\r\nimport './Keyboard.css';\r\n\r\nconst Keyboard = observer(() => {\r\n\r\n    const {keyboardStore} = useStores();\r\n\r\n    const handleKeyDown = (event) => {\r\n        keyboardStore.addKeyPressed(event.keyCode)\r\n    }\r\n\r\n    const handleKeyUp = (event) => {\r\n        keyboardStore.removeKeyPressed(event.keyCode);\r\n    }\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('keydown', handleKeyDown);\r\n        document.addEventListener('keyup', handleKeyUp);\r\n\r\n        return () => {\r\n            document.removeEventListener('keydown', handleKeyDown);\r\n            document.removeEventListener('keyup', handleKeyUp);\r\n        };\r\n    }, [])\r\n\r\n    return (<div className={'Keyboard'}>\r\n        {\r\n            layout_eng.map((row, index) => {\r\n                return <div key={`row-${index}`} className={`Keyboard-row`}>\r\n                    {\r\n                        row.map((i, index) => {\r\n                            return <Keycap key={`${i.code}-${index}`} data={i}/>\r\n                        })\r\n                    }\r\n                </div>\r\n            })}\r\n    </div>);\r\n})\r\n\r\nexport default Keyboard;","import React, {useEffect, useRef, useState} from 'react';\r\nimport {useStores} from '../../hooks/use-stores'\r\nimport {observer} from 'mobx-react-lite'\r\nimport './TextArea.css';\r\n\r\nconst TextArea = observer(() => {\r\n\r\n    const {textStore, typingStore} = useStores();\r\n    const [typo, setTypo] = useState(false);\r\n    const textAreaBox = useRef(null);\r\n\r\n    const handleKeyDown = (event) => {\r\n        typingStore.initTimeTypingStart();\r\n        if (event.defaultPrevented) {\r\n            return; // Do nothing if the event was already processed\r\n        }\r\n        if (event.altKey || event.ctrlKey || (event.shiftKey && event.keyCode === 16))\r\n            return;\r\n        if (textStore.curLetter.ch === event.key) {\r\n            typingStore.incrementCorrect();\r\n            textStore.incrementCursorPos();\r\n            setTypo(false);\r\n        } else {\r\n            typingStore.incrementTypo();\r\n            setTypo(true);\r\n        }\r\n        typingStore.setComplete(textStore.complete);\r\n        event.preventDefault();\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (textAreaBox && textAreaBox.current) {\r\n            const element = textAreaBox.current;\r\n            element.focus();\r\n            element.addEventListener('keydown', handleKeyDown);\r\n\r\n            // cleanup this component\r\n            return () => {\r\n                if (element !== null)\r\n                    element.removeEventListener('keydown', handleKeyDown);\r\n            };\r\n        }\r\n    }, [handleKeyDown]);\r\n\r\n    const element =\r\n        <div ref={textAreaBox} className={'TextArea'} tabIndex=\"0\">\r\n            {textStore.printed.map((ch, i) => <span className={'printed-text'} key={`printed-${i}`}>{ch}</span>)}\r\n            {textStore.expected.map((ch, i) => <span\r\n                className={`wait-text ${i === 0 ? (typo ? 'ch-red' : 'ch-green') : ''}`}\r\n                key={`text-${i}`}>{ch}</span>)}\r\n        </div>;\r\n    return element;\r\n});\r\n\r\nexport default TextArea;","import React, {useEffect, useState} from \"react\";\r\nimport {observer} from \"mobx-react-lite\";\r\nimport {useStores} from \"../../hooks/use-stores\";\r\nimport './StatsPanel.css'\r\n\r\nconst StatsPanel = observer(() => {\r\n\r\n    const {typingStore} = useStores();\r\n    const [speed, setSpeed] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const handle = setInterval(() => {\r\n            setSpeed(typingStore.speed);\r\n        }, 1000 / 20)\r\n        return () => {\r\n            clearInterval(handle)\r\n        }\r\n    }, []);\r\n\r\n    return <div className=\"StatsPanel\">\r\n        <div className=\"panel-header\">\r\n            <h3 className=\"title\">Statistics</h3>\r\n        </div>\r\n        <div className=\"categories\">\r\n            <div className=\"category\">\r\n                <span>Speed</span>\r\n                <span>{`${speed} CPM`}</span>\r\n            </div>\r\n            <div className=\"category\">\r\n                <span>Accuracy</span>\r\n                <span>{`${typingStore.accuracy}%`}</span>\r\n            </div>\r\n        </div>\r\n    </div>;\r\n})\r\n\r\nexport default StatsPanel;","import StatsPanel from \"../StatsPanel/StatsPanel\";\r\nimport React from \"react\";\r\nimport {observer} from \"mobx-react-lite\";\r\nimport {useStores} from \"../../hooks/use-stores\";\r\nimport './Result.css';\r\n\r\n\r\nconst Result = observer(() => {\r\n\r\n    const {typingStore, textStore} = useStores();\r\n    function handleClick(){\r\n        typingStore.reset();\r\n        textStore.reset();\r\n    }\r\n\r\n    return (<div className={'Result'}>\r\n            <div className={'Result-container'}>\r\n                <StatsPanel/>\r\n                <div className={'active-container'}>\r\n                    <button onClick={handleClick}>Start over</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n})\r\nexport default Result;\r\n","import React from 'react';\r\nimport Keyboard from \"./components/Keyboard/Keyboard\";\r\nimport TextArea from \"./components/TextArea/TextArea\";\r\nimport StatsPanel from \"./components/StatsPanel/StatsPanel\";\r\nimport Result from \"./components/Result/Result\";\r\nimport {useStores} from \"./hooks/use-stores\";\r\nimport {observer} from \"mobx-react-lite\";\r\nimport './App.css';\r\n\r\nconst App = observer(() => {\r\n    const {typingStore} = useStores();\r\n    const isAndroid = /(android)/i.test(navigator.userAgent);\r\n    const isIOS = !window.MSStream && /iPad|iPhone|iPod/.test(navigator.userAgent);\r\n\r\n    return <div className=\"App\">\r\n        <header className=\"App-header\"/>\r\n        <div className=\"App-body\">\r\n            {isAndroid || isIOS ? 'Please use a computer instead of a smartphone.' : <>\r\n                <div className={'TextArea-container'}>\r\n                    <StatsPanel/>\r\n                    <TextArea/>\r\n                </div>\r\n                <div className={'Keyboard-container'}>\r\n                    <Keyboard/>\r\n                </div>\r\n            </>}\r\n            {typingStore.complete ? <Result/> : null}\r\n        </div>\r\n    </div>;\r\n});\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}