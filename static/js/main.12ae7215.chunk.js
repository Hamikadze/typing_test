(this.webpackJsonptyping_test=this.webpackJsonptyping_test||[]).push([[0],[,,,,,,,,,,,,,function(e,t,c){},,function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),i=c(6),s=c.n(i),o=(c(13),c(3)),h=c(4),f=c(5),a=c(2),u=function(){function e(){Object(h.a)(this,e),this.reset(),Object(a.d)(this)}return Object(f.a)(e,[{key:"reset",value:function(){this.timeTypingStart=0,this.typoCount=0,this.correctCount=0,this.complete=!1,this.result=null}},{key:"setTimeTypingStart",value:function(e){this.timeTypingStart=e}},{key:"initTimeTypingStart",value:function(){0===this.timeTypingStart&&(this.timeTypingStart=Date.now())}},{key:"setTypoCount",value:function(e){this.complete||(this.typoCount=e)}},{key:"setCorrectCount",value:function(e){this.complete||(this.correctCount=e)}},{key:"incrementTypo",value:function(){this.complete||this.typoCount++}},{key:"incrementCorrect",value:function(){this.complete||this.correctCount++}},{key:"setComplete",value:function(e){this.complete=e,e&&(this.result={speed:this.speed,accuracy:this.accuracy})}},{key:"speed",get:function(){return null!==this.result?this.result.speed:Math.round(this.correctCount/((Date.now()-this.timeTypingStart)/1e3)*60,2)}},{key:"accuracy",get:function(){if(null!==this.result)return this.result.accuracy;var e=Math.round(100*this.correctCount/(this.correctCount+this.typoCount),2);return isNaN(e)?100:e}}]),e}();var d=function(){function e(){Object(h.a)(this,e),this.reset(),Object(a.d)(this)}return Object(f.a)(e,[{key:"reset",value:function(){this.text=[],this.cursorPos=0,this.fetch()}},{key:"curLetter",get:function(){if(!this.expected.length)return{ch:null,shift:!1};var e,t=this.expected[0];return{ch:t,shift:(e=t,'ABCDEFGHIJKLMNOPQRSTUVWXYZ~!@#$%^&*()_+{}|:"<>?'.indexOf(e)>=0)}}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this;fetch("https://baconipsum.com/api/?type=all-meat&paras=1&format=json",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setText(t[0])})).catch((function(t){console.log(t),e.setText("Crazy Fredrick bought many very exquisite opal jewels.")}))}))},{key:"setText",value:function(e){this.text=e.replace(/\s\s+/g," ").split("")}},{key:"printed",get:function(){return this.text.slice(0,this.cursorPos)}},{key:"expected",get:function(){return this.text.slice(this.cursorPos)}},{key:"complete",get:function(){return!this.expected.length}},{key:"setCursorPos",value:function(e){this.cursorPos=e}},{key:"incrementCursorPos",value:function(){this.cursorPos++}}]),e}(),g=function(){function e(){Object(h.a)(this,e),this.keysPressed=[],this.nextKey=null,Object(a.d)(this)}return Object(f.a)(e,[{key:"shiftPressed",get:function(){return this.keysPressed.some((function(e){return 16===e}))}},{key:"addKeyPressed",value:function(e){this.keysPressed.push(e)}},{key:"removeKeyPressed",value:function(e){this.keysPressed=this.keysPressed.filter((function(t){return t!==e}))}},{key:"setNextKey",value:function(e){this.nextKey!==e&&(this.nextKey=e)}}]),e}(),l=r.a.createContext({typingStore:new u,textStore:new d,keyboardStore:new g}),j=function(){return r.a.useContext(l)},y=(c(15),c(0)),p=Object(o.a)((function(e){var t=j(),c=t.keyboardStore,n=t.textStore,r={flexGrow:e.data.grow},i=32===e.data.code&&" "===n.curLetter.ch||16===e.data.code&&n.curLetter.shift||e.data.ch===n.curLetter.ch||e.data.shiftCh===n.curLetter.ch?"f_select":"",s=c.keysPressed.some((function(t){return t===e.data.code}))?"keycap-pressed":"";return Object(y.jsx)("div",{style:r,className:"Keycap ".concat(e.data.finger," ").concat(s," ").concat(i),children:Object(y.jsx)("span",{children:c.shiftPressed?e.data.shiftCh:e.data.ch})})})),C=[[{ch:"`",shiftCh:"~",code:192,finger:"f1",grow:1},{ch:"1",shiftCh:"!",code:49,finger:"f2",grow:1},{ch:"2",shiftCh:"@",code:50,finger:"f2",grow:1},{ch:"3",shiftCh:"#",code:51,finger:"f3",grow:1},{ch:"4",shiftCh:"$",code:52,finger:"f4",grow:1},{ch:"5",shiftCh:"%",code:53,finger:"f5_1",grow:1},{ch:"6",shiftCh:"^",code:54,finger:"f5_1",grow:1},{ch:"7",shiftCh:"&",code:55,finger:"f5_2",grow:1},{ch:"8",shiftCh:"*",code:56,finger:"f4",grow:1},{ch:"9",shiftCh:"(",code:57,finger:"f3",grow:1},{ch:"0",shiftCh:")",code:48,finger:"f2",grow:1},{ch:"-",shiftCh:"_",code:189,finger:"f2",grow:1},{ch:"=",shiftCh:"+",code:187,finger:"f2",grow:1},{ch:"\u2190",shiftCh:"\u2190",code:8,finger:"f1",grow:2}],[{ch:"Tab",shiftCh:"Tab",code:9,finger:"f1",grow:2},{ch:"q",shiftCh:"Q",code:81,finger:"f2",grow:1},{ch:"w",shiftCh:"W",code:87,finger:"f3",grow:1},{ch:"e",shiftCh:"E",code:69,finger:"f4",grow:1},{ch:"r",shiftCh:"R",code:82,finger:"f5_1",grow:1},{ch:"t",shiftCh:"T",code:84,finger:"f5_1",grow:1},{ch:"y",shiftCh:"Y",code:89,finger:"f5_2",grow:1},{ch:"u",shiftCh:"U",code:85,finger:"f5_2",grow:1},{ch:"i",shiftCh:"I",code:73,finger:"f4",grow:1},{ch:"o",shiftCh:"O",code:79,finger:"f3",grow:1},{ch:"p",shiftCh:"P",code:80,finger:"f2",grow:1},{ch:"[",shiftCh:"{",code:219,finger:"f2",grow:1},{ch:"]",shiftCh:"}",code:221,finger:"f2",grow:1},{ch:"\\",shiftCh:"|",code:220,finger:"f1",grow:1}],[{ch:"Caps",shiftCh:"Caps",code:20,finger:"f1",grow:2},{ch:"a",shiftCh:"A",code:65,finger:"f2",grow:1},{ch:"s",shiftCh:"S",code:83,finger:"f3",grow:1},{ch:"d",shiftCh:"D",code:68,finger:"f4",grow:1},{ch:"f",shiftCh:"F",code:70,finger:"f5_1",grow:1},{ch:"g",shiftCh:"G",code:71,finger:"f5_1",grow:1},{ch:"h",shiftCh:"H",code:72,finger:"f5_2",grow:1},{ch:"j",shiftCh:"J",code:74,finger:"f5_2",grow:1},{ch:"k",shiftCh:"K",code:75,finger:"f4",grow:1},{ch:"l",shiftCh:"L",code:76,finger:"f3",grow:1},{ch:";",shiftCh:":",code:186,finger:"f2",grow:1},{ch:"'",shiftCh:'"',code:222,finger:"f2",grow:1},{ch:"Enter",shiftCh:"Enter",code:13,finger:"f1",grow:2}],[{ch:"Shift",shiftCh:"Shift",code:16,finger:"f1",grow:2},{ch:"z",shiftCh:"Z",code:90,finger:"f2",grow:1},{ch:"x",shiftCh:"X",code:88,finger:"f3",grow:1},{ch:"c",shiftCh:"C",code:67,finger:"f4",grow:1},{ch:"v",shiftCh:"V",code:86,finger:"f5_1",grow:1},{ch:"b",shiftCh:"B",code:66,finger:"f5_1",grow:1},{ch:"n",shiftCh:"N",code:78,finger:"f5_2",grow:1},{ch:"m",shiftCh:"M",code:77,finger:"f5_2",grow:1},{ch:",",shiftCh:"<",code:188,finger:"f4",grow:1},{ch:".",shiftCh:">",code:190,finger:"f3",grow:1},{ch:"/",shiftCh:"?",code:191,finger:"f2",grow:1},{ch:"Shift",shiftCh:"Shift",code:16,finger:"f1",grow:2}],[{ch:"Space",shiftCh:"Space",code:32,finger:"f1",grow:2}]],b=(c(17),Object(o.a)((function(){var e=j().keyboardStore,t=function(t){e.addKeyPressed(t.keyCode)},c=function(t){e.removeKeyPressed(t.keyCode)};return Object(n.useEffect)((function(){return document.addEventListener("keydown",t),document.addEventListener("keyup",c),function(){document.removeEventListener("keydown",t),document.removeEventListener("keyup",c)}}),[]),Object(y.jsx)("div",{className:"Keyboard",children:C.map((function(e,t){return Object(y.jsx)("div",{className:"Keyboard-row",children:e.map((function(e,t){return Object(y.jsx)(p,{data:e},"".concat(e.code,"-").concat(t))}))},"row-".concat(t))}))})}))),w=c(7),m=(c(18),Object(o.a)((function(){var e=j(),t=e.textStore,c=e.typingStore,r=Object(n.useState)(!1),i=Object(w.a)(r,2),s=i[0],o=i[1],h=Object(n.useRef)(null),f=function(e){c.initTimeTypingStart(),e.defaultPrevented||e.altKey||e.ctrlKey||e.shiftKey&&16===e.keyCode||(t.curLetter.ch===e.key?(c.incrementCorrect(),t.incrementCursorPos(),o(!1)):(c.incrementTypo(),o(!0)),c.setComplete(t.complete),e.preventDefault())};return Object(n.useEffect)((function(){if(h&&h.current){var e=h.current;return e.focus(),e.addEventListener("keydown",f),function(){null!==e&&e.removeEventListener("keydown",f)}}}),[f]),Object(y.jsxs)("div",{ref:h,className:"TextArea",tabIndex:"0",children:[t.printed.map((function(e,t){return Object(y.jsx)("span",{className:"printed-text",children:e},"printed-".concat(t))})),t.expected.map((function(e,t){return Object(y.jsx)("span",{className:"wait-text ".concat(0===t?s?"ch-red":"ch-green":""),children:e},"text-".concat(t))}))]})}))),x=(c(19),Object(o.a)((function(){var e=j().typingStore,t=Object(n.useState)(0),c=Object(w.a)(t,2),r=c[0],i=c[1];return Object(n.useEffect)((function(){var t=setInterval((function(){i(e.speed)}),50);return function(){clearInterval(t)}}),[]),Object(y.jsxs)("div",{className:"StatsPanel",children:[Object(y.jsx)("div",{className:"panel-header",children:Object(y.jsx)("h3",{className:"title",children:"Statistics"})}),Object(y.jsxs)("div",{className:"categories",children:[Object(y.jsxs)("div",{className:"category",children:[Object(y.jsx)("span",{children:"Speed"}),Object(y.jsx)("span",{children:"".concat(r," CPM")})]}),Object(y.jsxs)("div",{className:"category",children:[Object(y.jsx)("span",{children:"Accuracy"}),Object(y.jsx)("span",{children:"".concat(e.accuracy,"%")})]})]})]})}))),v=(c(20),Object(o.a)((function(){var e=j(),t=e.typingStore,c=e.textStore;return Object(y.jsx)("div",{className:"Result",children:Object(y.jsxs)("div",{className:"Result-container",children:[Object(y.jsx)(x,{}),Object(y.jsx)("div",{className:"active-container",children:Object(y.jsx)("button",{onClick:function(){t.reset(),c.reset()},children:"Start over"})})]})})}))),O=(c(21),Object(o.a)((function(){var e=j().typingStore,t=/(android)/i.test(navigator.userAgent),c=!window.MSStream&&/iPad|iPhone|iPod/.test(navigator.userAgent);return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)("header",{className:"App-header"}),Object(y.jsxs)("div",{className:"App-body",children:[t||c?"Please use a computer instead of a smartphone.":Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"TextArea-container",children:[Object(y.jsx)(x,{}),Object(y.jsx)(m,{})]}),Object(y.jsx)("div",{className:"Keyboard-container",children:Object(y.jsx)(b,{})})]}),e.complete?Object(y.jsx)(v,{}):null]})]})})));s.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(O,{})}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.12ae7215.chunk.js.map